<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Farm√°cia de Plant√£o em Patos-PB ‚Äî Aberta Agora</title>

<meta name="description" content="Descubra rapidamente qual farm√°cia est√° aberta agora em Patos-PB. Endere√ßo, telefone, WhatsApp e rota no mapa." />

<!-- SEO / Open Graph -->
<meta property="og:title" content="Farm√°cia de Plant√£o em Patos-PB" />
<meta property="og:description" content="Veja qual farm√°cia est√° aberta agora em Patos-PB, com telefone e rota no mapa." />
<meta property="og:type" content="website" />
<meta property="og:locale" content="pt_BR" />

<!-- Manifest PWA -->
<link rel="manifest" href="manifest.webmanifest" />

<!-- Service Worker -->
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>

<style>
:root {
  --bg: #050812;
  --card: #0e1324;
  --card2: #12182b;
  --text: #ffffff;
  --text-muted: #96a0ba;
  --accent: #3e7bfa;

  --center: #ff6b6b;
  --norte: #00e676;
  --leste: #f9a826;
  --oeste: #00d4ff;
  --sul: #b388ff;

  --radius: 18px;
}

* {
  box-sizing: border-box;
  font-family: "Inter", system-ui, sans-serif;
}

body {
  margin: 0;
  background: radial-gradient(circle at top left, #192444 0%, var(--bg) 45%);
  color: var(--text);
  display: flex;
  justify-content: center;
  padding: 20px;
  min-height: 100vh;
}

#app {
  width: 100%;
  max-width: 960px;
}

/* HEADER */
header {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 22px;
}

header h1 {
  font-size: 2rem;
  font-weight: 800;
}

header p {
  margin-top: 4px;
  font-size: 0.9rem;
  color: var(--text-muted);
}

.header-right {
  text-align: right;
}

.pill {
  padding: 6px 14px;
  font-size: 0.82rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,.4);
  color: var(--text-muted);
}

.admin-link {
  display: block;
  margin-top: 6px;
  font-size: 0.85rem;
  color: var(--text-muted);
  text-decoration: none;
}
.admin-link:hover { color: var(--accent); }

/* =====================
   CARD HOJE (DESTAQUE)
   ===================== */
.today-card {
  background: radial-gradient(circle at top right, #23335d 0%, #0b1020 45%);
  border-radius: 22px;
  padding: 22px;
  margin-bottom: 26px;
  border: 1px solid rgba(62,123,250,.5);
  box-shadow: 0 0 30px rgba(62,123,250,.25);
}

.badge-now {
  display: inline-block;
  background: var(--accent);
  color: #fff;
  padding: 3px 10px;
  font-size: 0.72rem;
  border-radius: 999px;
  margin-left: 6px;
}

/* LOADING */
.loading {
  opacity: .7;
  font-style: italic;
}

/* TAGS */
.tag {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,.4);
  font-size: .8rem;
}

.area-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.area-CENTRO { background: var(--center); }
.area-NORTE  { background: var(--norte); }
.area-LESTE  { background: var(--leste); }
.area-OESTE  { background: var(--oeste); }
.area-SUL    { background: var(--sul); }

/* BOT√ïES */
.btn {
  padding: 9px 16px;
  border-radius: 999px;
  font-size: .85rem;
  font-weight: 600;
  text-decoration: none;
}

.btn-wpp { background: #25d366; color: #fff; }
.btn-map { background: #2563eb; color: #fff; }
.btn-call {
  background: #111827;
  color: var(--text-muted);
  border: 1px solid #374151;
}

/* FOOTER */
footer {
  margin-top: 20px;
  padding-top: 14px;
  border-top: 1px solid rgba(148,163,184,.25);
  font-size: .78rem;
  color: var(--text-muted);
}
</style>
</head>

<body>
<div id="app">

<header>
  <div>
    <h1>Farm√°cia de Plant√£o</h1>
    <p>Veja agora qual farm√°cia est√° aberta em Patos-PB.</p>
  </div>

  <div class="header-right">
    <span class="pill">üìç Patos-PB</span>
    <a href="login.html" class="admin-link">√Årea administrativa</a>
  </div>
</header>

<section id="todayCard" class="today-card loading">
  Carregando o plant√£o de hoje‚Ä¶
</section>

<h3>Quem estar√° de plant√£o nos pr√≥ximos dias</h3>
<section id="nextList"></section>

<footer>
  Dados fornecidos pelo <strong>PROCON de Patos-PB</strong>.<br>
  Desenvolvido por <a href="https://lucasndf.github.io/portfolio/" target="_blank">Lucas Nascimento</a>.
</footer>

</div>

<script src="data.js"></script>

<script>
function renderToday() {
  const dados = PlantoesStore.get();
  const hoje = new Date().toISOString().split("T")[0];
  const entry = dados.find(p => p.date === hoje);

  if (!entry) {
    document.getElementById("todayCard").innerHTML = `
      <h2>Plant√£o indispon√≠vel</h2>
      <p>N√£o encontramos informa√ß√µes para hoje.</p>
    `;
    return;
  }

  document.getElementById("todayCard").innerHTML = `
    <small>Hoje ‚Ä¢ ${hoje.split("-").reverse().join("/")}</small>
    <h2>${entry.farmacia} <span class="badge-now">AGORA</span></h2>
    <p>üìç ${entry.endereco}</p>
    <p>üìû ${entry.telefone}</p>

    <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
      <a class="btn btn-wpp" href="https://wa.me/55${entry.telefone.replace(/\D/g,"")}" target="_blank">WhatsApp</a>
      <a class="btn btn-map" href="https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(entry.endereco + ', Patos - PB')}" target="_blank">Ver rota</a>
    </div>
  `;
}

function renderNext() {
  const dados = PlantoesStore.get();
  const hoje = new Date().toISOString().split("T")[0];

  document.getElementById("nextList").innerHTML = dados
    .filter(p => p.date > hoje)
    .slice(0,5)
    .map(p => `<p>${p.date.split("-").reverse().join("/")} ‚Äî ${p.farmacia}</p>`)
    .join("");
}

renderToday();
renderNext();
</script>

</body>
</html>
